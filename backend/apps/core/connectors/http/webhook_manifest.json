{
  "id": "webhook",
  "name": "Webhook",
  "version": "1.0.0",
  "description": "Send outbound webhooks with signature support and retry logic",
  "author": "Bridge.dev",
  "connector_type": "action",
  "auth_config": {
    "type": "custom",
    "fields": [
      {
        "name": "secret",
        "type": "password",
        "required": false,
        "description": "Secret key for HMAC signature generation (HMAC-SHA256 or HMAC-SHA1)"
      }
    ]
  },
  "actions": [
    {
      "id": "send_webhook",
      "name": "Send Webhook",
      "description": "Send webhook payload to URL with optional HMAC signature and automatic retry",
      "input_schema": {
        "type": "object",
        "required": ["url", "payload"],
        "properties": {
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Webhook URL (supports templating)"
          },
          "payload": {
            "type": ["object", "string"],
            "description": "Webhook payload data (supports templating if string)"
          },
          "method": {
            "type": "string",
            "enum": ["POST", "PUT"],
            "default": "POST",
            "description": "HTTP method"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Additional HTTP headers"
          },
          "signature_method": {
            "type": "string",
            "enum": ["hmac_sha256", "hmac_sha1", "none"],
            "default": "none",
            "description": "Signature method for webhook authentication"
          },
          "signature_header": {
            "type": "string",
            "default": "X-Webhook-Signature",
            "description": "Header name for signature"
          },
          "timeout": {
            "type": "number",
            "default": 30,
            "description": "Request timeout in seconds"
          },
          "max_retries": {
            "type": "integer",
            "default": 3,
            "minimum": 0,
            "maximum": 10,
            "description": "Maximum number of retry attempts on failure"
          },
          "step_context": {
            "type": "object",
            "description": "Context from previous steps for templating (automatically provided)"
          }
        }
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "status_code": {
            "type": "integer",
            "description": "HTTP status code"
          },
          "success": {
            "type": "boolean",
            "description": "Whether webhook was sent successfully (2xx status)"
          },
          "response_body": {
            "type": ["object", "string", "null"],
            "description": "Response body from webhook endpoint"
          },
          "retry_count": {
            "type": "integer",
            "description": "Number of retries attempted"
          }
        }
      },
      "required_fields": ["url", "payload"]
    }
  ]
}


